"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3790],{43790:function(e,t,r){r.d(t,{c:function(){return d},m:function(){return u}});var a=r(57437),i=r(2265),n=r(19764),o=r(87404),c=r(33254),l=r(36186),s=r(46562);let u=(()=>{let e="list_1_cols",t="list_2_cols",r="list_5_cols";return{oneCardPerRow:e,twoCardPerRow:t,fiveCardPerRow:r,sixCardPerRow:"list_6_cols",responsiveVertical:e=>e?r:t,responsiveHorizontal:r=>r?t:e}})(),d=e=>{let{cardConfig:t,listConfig:r,productList:u}=e,d=(0,s.sN)(),y=(0,l.N)(),g=(0,i.useRef)(null);return((0,i.useEffect)(()=>{if(!(null==r?void 0:r.applyInfiniteScroll)||!g.current)return;let e=new IntersectionObserver(async e=>{let[t]=e;if(t.isIntersecting)try{await d((0,c.VL)())}catch(e){}});return g.current&&e.observe(g.current),()=>{e.disconnect()}},[y.display.isSmall]),u&&0!==u.length)?(0,a.jsx)("div",{className:"thin_gray_rounded_box type4 px_16 py_24 none_border",children:(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("article",{className:r.className,children:u.map((e,r)=>(0,a.jsx)(n.o5,{children:(0,a.jsx)(o.Z,{apiData:e,config:{thumbnailFlagCount:y.display.isSmall?1:2,...t}})},"".concat(r,"/").concat(e.productSeq)))}),(null==r?void 0:r.applyInfiniteScroll)&&(0,a.jsx)("div",{ref:g,style:{position:"absolute",left:0,right:0,bottom:0,height:1200,pointerEvents:"none"}})]})}):null}},33967:function(e,t,r){r.d(t,{MJ:function(){return J},dc:function(){return x}});var a=r(84114),i=r(76428),n=r(76867),o=r(61533),c=r(36026),l=r(76111),s=r(5538),u=r(6376);function d(e){let{selectedAGGFilters:t,keyValueMap:r}=e,a={};t.forEach(e=>{if("multiple-code"!==e.payload.type)return;let{rawCode:t,firstReqKey:r,secondReqKey:i,reqFormat:n}=e.payload,[o,c]=t.split(",");(0,s.zU)(a,r,{code:[],format:n}),(0,s.zU)(a,i,{code:[],format:n}),(0,l.DH)(a[r],"code",[o]),(0,l.DH)(a[i],"code",[c])}),t.forEach(e=>{if("range-code"!==e.payload.type)return;let{rangeReqKey:t,startValue:r,endValue:i,perUnitReqKey:n,perUnitReqCode:o}=e.payload;(0,s.zU)(a,t,{code:[],format:"as-is"}),(0,l.DH)(a[t],"code",["".concat(r,",").concat(i)]),n&&o&&(a[n]={code:o,format:"as-is"})});let i=t.filter(e=>"single-code"===e.payload.type);for(let[e,t]of Object.entries((0,s.We)(i,e=>e.payload.group))){if(!t||0===t.length)continue;let r=t[0].payload.reqFormat;(0,s.zU)(a,e,{code:[],format:r}),(0,l.DH)(a[e],"code",t.map(e=>e.payload.reqCode))}if(r)for(let[e,t]of Object.entries(r))(0,u.lm)(t)&&(a[e]={code:t,format:"as-is"});return Object.entries(a).reduce((e,t)=>{let[r,{code:a,format:i}]=t;if((0,l.kJ)(a)){let t=(0,l._G)(a);"comma"===i?e[r]=t.join(","):e[r]=t}else e[r]=a;return e},{})}var y=r(37194),g=r(8426),p=r(69526),S=r(96800),f=r(90858),m=r(14953),v=r(58487),h=r(73815),L=r(40266),P=r(2641),A=r(71534);r(99793);let F={queryString:{...(0,s.VL)("displayCategorySeq","categorySeq")}};F.queryString;let T={queryString:{...(0,s.VL)("eventSeq","collectionSeq")}};var w=r(92986),q=r(40356),C=r(1455);let{orchestrateSyncProductList:J,configTypeToken:M}=(()=>{let e=(0,m.L3)(async(e,a)=>{var i,n,o,d;let{dispatch:y,getState:g}=e,p=null!==(i=null==a?void 0:a.mode)&&void 0!==i?i:"update",m=null===(n=null==a?void 0:a.runDefaultHandleAfter)||void 0===n||n,h="syncProductList",P=(0,C.x0)(),F=null!==(o=null==a?void 0:a.appPage)&&void 0!==o?o:f.n.getCurrentAppPage((0,A.yW)());try{(0,L.X)(null==a?void 0:a.noAbort)&&(0,v.Th)(h);let{signal:e}=(0,v.tK)(h,P);y(c.T.actions.setStatus("pending"));let i=await (()=>{switch(F){case"eventProductListPageDo":case"eventProductListDo":return r({getState:g,signal:e});case"searchResultPageDo":return s({getState:g,signal:e});case"categoryPageDo":return l({getState:g,signal:e});case"meatmartProductList":return t({getState:g,signal:e});default:(0,S.cV)()||console.error("unsupported page. ".concat(F));return}})();if(y(c.T.actions.setStatus("success")),m&&u({dispatch:y,getState:g,mode:p,payload:i}),(null==a?void 0:a.handleAfter)&&a.handleAfter({payload:i,dispatch:y,getState:g}),i)return{items:i.items,total:i.total}}catch(e){(0,S.cV)()||console.error(e),null==a||null===(d=a.handleError)||void 0===d||d.call(a,e),y(c.T.actions.setStatus("error"))}finally{(0,v.BX)(h,P)}}),t=async e=>{var t;let{getState:r,signal:i}=e,n=r(),{selectedSortKey:c}=n.sortFilterSlice,{committedKeyword:l}=n.insearchSlice,{size:s,page:u}=n.productListSlice.pagination,g=null!==(t=n.displayCategoryFilterSlice.currentCategorySeq)&&void 0!==t?t:-1,S=(0,y.Bl)(n.aggFilterSlice.sections,"selectedTimeAsc"),f={...!(0,P.fp)(l)&&{keyword:l},sort:c,page:u,size:s},m=d({selectedAGGFilters:S,keyValueMap:f});(0,p.zF)({sortedSelectedAGGFilters:S,etcQueryParamMap:{...f,displayCategorySeq:g},priorityKey:Object.keys(w.Y.queryString),excludeKey:[o.LR.page,o.LR.size]});let v=(await a.i.getProductList({...m,displayCategorySeq:g,ignoreSellUnitTypeYn:"Y"},i)).data.data;if(!v)return;let{items:h,total:L}=v;return{items:h,total:L}},r=async e=>{let{getState:t,signal:r}=e,a=t(),{eventSeq:n,itemKindCd:c,itemCatSeq:l}=a.categoryFilterSlice,{selectedSortKey:s}=a.sortFilterSlice,{committedKeyword:u}=a.insearchSlice,{size:g,page:S}=a.productListSlice.pagination,f=(0,y.Bl)(a.aggFilterSlice.sections,"selectedTimeAsc"),m={eventSeq:n,itemKindCd:c,itemCatCd:l,sort:s,page:S,size:g,...!(0,P.fp)(u)&&{keyword:u}},v=d({selectedAGGFilters:f,keyValueMap:m}),h=(0,A.GX)(T.queryString.collectionSeq);(0,p.zF)({sortedSelectedAGGFilters:f,etcQueryParamMap:{...m,collectionSeq:h},priorityKey:[T.queryString.collectionSeq,T.queryString.eventSeq],excludeKey:[o.LR.page,o.LR.size]});let L=(await i.y.getEventPlanProductList(v,r)).data.data;if(!L)return;let{items:F,total:w}=L;return{items:F,total:w}},l=async e=>{let{getState:t,signal:r}=e,a=t(),{currentDisplayCategorySeq:i}=a.categoryPageMeta,{selectedSortKey:c}=a.sortFilterSlice,{committedKeyword:l}=a.insearchSlice,{page:s,size:u}=a.productListSlice.pagination,g=(0,y.Bl)(a.aggFilterSlice.sections,"selectedTimeAsc"),S={displayCategorySeq:i,sort:c,page:s,size:u,...!(0,P.fp)(l)&&{keyword:l}},f=d({selectedAGGFilters:g,keyValueMap:S});(0,p.zF)({sortedSelectedAGGFilters:g,etcQueryParamMap:S,priorityKey:Object.keys(F.queryString),excludeKey:[o.LR.page,o.LR.size]});let m=(await n.O.getSearchFilter(f,r)).data.data;if(!m)return;let{search:{items:v,total:h}}=m;return{items:v,total:h}},s=async e=>{let{getState:t,signal:r}=e,a=t(),{selectedSortKey:i}=a.sortFilterSlice,{page:c,size:l}=a.productListSlice.pagination,s=a.searchPageMeta.correctionKeyword||a.searchPageMeta.originKeyword||"",{useSearchTermJoinFilter:u}=a.searchPageMeta,g=a.searchTermJoinFilterSlice.operator,S={sort:i,keyword:s,page:c,size:l,...u&&{operator:g}},f=(0,y.Bl)(a.aggFilterSlice.sections,"selectedTimeAsc"),m=d({selectedAGGFilters:f,keyValueMap:S});(0,p.zF)({sortedSelectedAGGFilters:f,etcQueryParamMap:{...S,searchText:s},priorityKey:[q.U.queryString.searchText],excludeKey:[o.LR.page,o.LR.size,o.LR.keyword]});let v=(await n.O.getSearchFilter(m,r)).data.data;if(!v)return;let{search:{items:h,total:L}}=v;return{items:h,total:L}},u=e=>{let{dispatch:t,mode:r,payload:a}=e;if(!a)return;let{items:i,total:n}=a;t(c.T.actions.updateState({mode:r,data:{items:i,total:n}}))};return{orchestrateSyncProductList:e,configTypeToken:(0,h.f)()}})(),{orchestrateSyncSearchRetrieve:x}=(()=>{let e=(0,m.L3)(async e=>{let{dispatch:a,getState:n}=e,c="orchestrateSyncSearchRetrieve",l=(0,C.x0)(),s=(0,S.J4)()?window.location.href:"",u=f.n.getCurrentAppPage(s);try{(0,v.Th)(c);let{signal:e}=(0,v.tK)(c,l),s=await (()=>{switch(u){case"categoryPageDo":return r({getState:n,signal:e});case"searchResultPageDo":return i({getState:n,signal:e});case"meatmartProductList":return t({getState:n,signal:e});default:return}})();o({dispatch:a,getState:n,payload:s})}catch(e){}finally{(0,v.BX)(c,l)}}),t=async e=>{var t,r;let{getState:i,signal:n}=e,o=i(),c=null!==(r=o.displayCategoryFilterSlice.currentCategorySeq)&&void 0!==r?r:-1,{page:l,size:s}=o.productListSlice.pagination,u=a.i.getAGGFilter({displayCategorySeq:c,ignoreSellUnitTypeYn:"Y"},n),d=a.i.getProductList({displayCategorySeq:c,page:l,size:s,ignoreSellUnitTypeYn:"Y"},n),[y,g]=await Promise.all([u,d]);return{search:g.data.data,filters:null===(t=y.data.data)||void 0===t?void 0:t.filters}},r=async e=>{var t;let{getState:r,signal:a}=e,i=null!==(t=r().categoryPageMeta.currentDisplayCategorySeq)&&void 0!==t?t:[],o=(await n.O.getSearchRetrieve({displayCategorySeq:i},a)).data.data;if(o)return o},i=async e=>{let{getState:t,signal:r}=e,a=t(),i=a.searchTermJoinFilterSlice.operator,o=a.searchPageMeta.correctionKeyword||a.searchPageMeta.originKeyword||"",c=(await n.O.getSearchRetrieve({operator:i,keyword:o},r)).data.data;if(c)return c},o=async e=>{let{dispatch:t,payload:r}=e;r&&(t(c.T.actions.updateState({data:r.search,mode:"init"})),t(g.Am.actions.setState({rawFilters:r.filters})))};return{orchestrateSyncSearchRetrieve:e}})()},33254:function(e,t,r){r.d(t,{AC:function(){return T},Km:function(){return J},sM:function(){return F},vf:function(){return P},s$:function(){return A},oK:function(){return K},v7:function(){return M},CA:function(){return _},VL:function(){return q},hs:function(){return C},dZ:function(){return R},Xu:function(){return x},E0:function(){return w}});var a=r(76428),i=r(61533),n=r(36026),o=r(8426),c=r(3223),l=r(89575),s=r(33967),u=r(69526),d=r(22453),y=r(14953),g=r(96800),p=r(58487),S=r(1455);async function f(e){let{abortGroup:t,callback:r}=e,a=(0,S.x0)(8);try{(0,p.Th)(t);let{signal:e}=(0,p.tK)(t,a);return r(e)}catch(e){(0,g.cV)()||console.error(e)}finally{(0,p.BX)(t,a)}}var m=r(96331),v=r(78452),h=r(32129),L=r(40356);let P=(0,y.L3)((e,t)=>{let{dispatch:r}=e,{item:a,config:i}=t;return r(o.Am.actions.toggleItem(a)),r(n.T.actions.resetPage()),r((0,s.MJ)(i))}),A=(0,y.L3)(e=>{let{dispatch:t}=e;return t(o.Am.actions.resetAllSelectedItems()),t(d.J.actions.reset()),t(l.L.actions.reset()),t(n.T.actions.resetPage()),t(o.Am.actions.resetAllRangeInput()),t((0,s.MJ)())}),F=(0,y.L3)((e,t)=>{let{dispatch:r}=e;return r(o.Am.actions.resetAllSelectedItems()),r(n.T.actions.resetPage()),r((0,s.MJ)(t))}),T=(0,y.L3)((e,t)=>{let{dispatch:r}=e;return r(n.T.actions.resetPage()),r((0,s.MJ)(t))}),w=(0,y.L3)((e,t)=>{let{dispatch:r}=e;return r(d.J.actions.set(t)),r(n.T.actions.resetPage()),r((0,s.MJ)())}),q=(0,y.L3)(async e=>{var t,r,a,i;let{dispatch:o,getState:c}=e,l=c(),u=null===(t=l.productListSlice)||void 0===t?void 0:t.pagination.page,d=null===(r=l.productListSlice)||void 0===r?void 0:r.pagination.size,y=null===(a=l.productListSlice)||void 0===a?void 0:a.pagination.total;(null===(i=l.productListSlice)||void 0===i?void 0:i.status)==="pending"||u&&d&&y&&u*d>y||(o(n.T.actions.nextPage()),await o((0,s.MJ)({mode:"infiniteScroll"})))}),C=(0,y.L3)(async e=>{let{dispatch:t}=e;t(l.L.actions.commitInputField()),t(n.T.actions.resetPage()),t((0,s.MJ)())}),J=(0,y.L3)((e,t)=>{let{dispatch:r}=e;return r(o.Am.actions.commitModalSelections(t)),r(n.T.actions.resetPage()),r((0,s.MJ)())}),M=(0,y.L3)(async(e,t)=>{let{dispatch:r}=e,{displayCategorySeq:a}=t;r(o.Am.actions.resetAllSelectedItems()),r(o.Am.actions.resetAllRangeInput()),r(d.J.actions.reset()),r(l.L.actions.reset()),r(m.X.actions.setState([a])),await r((0,s.dc)()),(0,u.zF)({etcQueryParamMap:{displayCategorySeq:a}})}),x=(0,y.L3)(async e=>{let{dispatch:t,getState:r}=e;t(h.B.actions.toggle()),await t((0,s.dc)({dispatch:t,getState:r})),t(d.J.actions.reset()),t(o.Am.actions.resetAllSelectedItems()),t(o.Am.actions.resetAllRangeInput()),t(n.T.actions.resetPage()),t(l.L.actions.reset());let a=r(),c=a.searchPageMeta.originKeyword,y=a.searchTermJoinFilterSlice.operator;(0,u.zF)({etcQueryParamMap:{[L.U.queryString.searchText]:c,[i.LR.operator]:y}})}),R=(0,y.L3)(async e=>{let{dispatch:t,getState:r}=e;t(d.J.actions.reset()),t(o.Am.actions.resetAllSelectedItems()),t(o.Am.actions.resetAllRangeInput()),t(n.T.actions.resetPage()),t(l.L.actions.reset()),await t((0,s.dc)());let a=r().displayCategoryFilterSlice.currentCategorySeq;(0,u.zF)({etcQueryParamMap:{[i.LR.displayCategorySeq]:a}})}),b=(0,y.L3)(async e=>{let{dispatch:t,getState:r}=e,i=f({abortGroup:I,async callback(e){let t=r();return a.y.getEventPlanFilter({eventSeq:t.categoryFilterSlice.eventSeq,itemCatSeq:t.categoryFilterSlice.itemCatSeq,itemKindCd:t.categoryFilterSlice.itemKindCd},e)}}),c=t((0,s.MJ)({runDefaultHandleAfter:!1})),[l,u]=await Promise.all([i,c]);(null==l?void 0:l.data.data)&&u&&(t(o.Am.actions.setState({rawFilters:null==l?void 0:l.data.data.filters})),t(n.T.actions.updateState({data:u,mode:"init"})))}),K=(0,y.L3)(async(e,t)=>{let{dispatch:r,getState:a}=e,{activeCategoryIdx:i,itemKindCd:s,itemCatSeq:u}=t;if(a().categoryFilterSlice.filtersUpdating){r(c.oJ.actions.set({activeCategoryIdx:i}));return}r(c.oJ.actions.set({itemCatSeq:u,itemKindCd:s,activeCategoryIdx:i})),r(d.J.actions.reset()),r(o.Am.actions.resetAllSelectedItems()),r(n.T.actions.resetPage()),r(l.L.actions.reset()),r(b())}),I="orchestrateEventPlanTabChange",_=(0,y.L3)(async(e,t)=>{let{dispatch:r}=e,{eventSeq:i,eventPlanTabIdx:s}=t;r(c.oJ.actions.set({activeEventTabIdx:s,eventSeq:i})),r(c.oJ.actions.reset(["itemKindCd","itemCatSeq"])),r(n.T.actions.resetPage()),r(l.L.actions.reset()),r(d.J.actions.reset()),r(o.Am.actions.resetAllSelectedItems()),r(c.oJ.actions.set({filtersUpdating:!0})),await f({abortGroup:I,async callback(e){let t=await a.y.getEventPlanDetail({eventSeq:i},e),n=t.data.data;if(n){var o,l;r(v._.actions.setState(n)),r(c.oJ.actions.updateFilters({kindCategoryList:null!==(l=null===(o=t.data.data)||void 0===o?void 0:o.kindCategoryList)&&void 0!==l?l:[]}))}}}),r(c.oJ.actions.set({filtersUpdating:!1})),r(c.oJ.actions.reset(["activeCategoryIdx"])),r(b())})},46562:function(e,t,r){r.d(t,{Wh:function(){return n},sN:function(){return i}});var a=r(68575);let i=a.I0,n=e=>(0,a.v9)(e)},40266:function(e,t,r){r.d(t,{X:function(){return a}});function a(e){return!e}},40356:function(e,t,r){r.d(t,{U:function(){return a}});let a={queryString:{...(0,r(5538).VL)("searchText")}}}}]);
//# sourceMappingURL=3790-4614f673d2c2d6ad.js.map